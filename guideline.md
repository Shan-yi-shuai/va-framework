# Guideline

## 1. Why we need to use front-end and back-end frameworks in the scenario of building a visual analytics system?

### 1. 为什么我们需要前端？（以javascript为例）

1. 我们需要利用前端可视化库（比如D3.js）的高度定制化构建创新性的可视化以解决特定问题 （后端的可视化库灵活性欠缺）
2. 我们需要利用前端可视化库（比如ECharts）提供更好的美观度以及舒适的交互 （后端的可视化库美观度和交互性欠缺）

### 2. 为什么我们需要后端？（以python为例）

1. 可视分析可能会面对海量数据，因此我们需要将数据存储在数据库中并通过后端进行增删改查 （保证数据安全）
2. 可视分析往往针对大量的结构化数据的处理，因此我们可以利用例如python中的pandas等数据处理库加快数据处理速度 （前端也可以做，但是速度慢）
3. 可视分析往往和数据挖掘（机器学习，自然语言处理等）紧密结合，因此我们可以利用例如python中的Scikit-learn、PyTorch等库来辅助可视分析 （前端缺少相应工具的支持或者能力没有python的库强）

### 3. 为什么我们需要前端框架？（以Vue为例）

1. 良好的项目结构以提高可维护性和可扩展性
2. 良好的代码风格（组件化开发，声明式语法等等）
3. 提升渲染性能（响应式系统减少不必要的渲染更新）
4. 强大的数据管理能力（pinia）以支持可视分析系统中大量的交互

### 4. 为什么我们需要后端框架？（以Flask为例）

1. 良好的项目结构和代码风格
2. 简单的路由系统，使得定义URL和处理请求变得非常直观

## 2. 你真的需要使用前后端框架吗？

检查1中提到的四个问题中的理由，如果有某一个问题中的所有理由都不是你需要的，你就需要仔细想想自己是否真的需要使用前后端框架了，或许更好的选择是在前端和后端中二选一。以下我将举一些例子：

1. 对于问题1，你发现你的系统设计中并没有高度定制化的可视化，你的交互式都是常规的，那么你可能只需要使用python就能够搭建出可视分析系统，因为python中也有搭建web的库（Streamlit，Dash等），也有具有丰富交互和一定定制性的可视化库（Plotly，Altair等），组合二者可以帮助你快速搭建可视分析系统的界面以替代javascript搭建的前端。
2. 对于问题2，你发现你的数据量并不大，直接用静态文件存储在前端，读取并处理的速度也很快，并且你也没有用到那些非python不可的库，那么你只需要使用javascript就能够搭建出可视分析系统，直接使用javascript来完成数据处理的代码即可
3. 如果你发现问题1和问题2同时都不是很需要，那你就需要考虑一下你是否真的需要一个可视分析系统，为什么不使用excel或者tableau呢？

## 如何使用这个前后端框架？

`~/README.md`中写了具体启动这个项目的指令

### 前端

注意：我默认大家已经自学过Vue.js的基础知识，这里是在介绍[vitesse-lite](https://github.com/antfu/vitesse-lite)模板的使用方法。最好可以学习一下前后端通信的基础原理。

你主要需要关注以下几个目录：

1. `~/client/src/components`：将所有组件都放在该目录下
   1. 如果你需要调用比如element-plus中的组件，可以参考`./TheVesselSelector.vue`
   2. 如果你需要使用d3.js，可以参考`./TheVesselTSNE.vue`
2. `~/client/src/pages`：在`./index.vue`中布局，并控制系统的初始化
3. `~/client/src/stores`： 在其中创建ts文件来使用pinia进行全局数据管理
   1. 前后端的交互和数据管理在`./store.ts`中，其中前后端交互的接口在`actions`中，我也给了一些使用案例，基本上可以满足大部分的需求
   2. 类型声明写在`./type.ts`中
4. `~/client/src/data`：在其中存储静态数据文件

### 后端

你主要需要关注以下几个目录：

1. `~/server/data`：存储静态数据文件（数据量过大也可以考虑存储在数据库中）
2. `~/server/src/models.py`：具体功能实现
3. `~/server/src/views.py`：前后端接口实现
